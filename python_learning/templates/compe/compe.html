{% extends 'python_learning/base.html' %}
{% load static %}
{% block title %}Paizaå½¢å¼å•é¡Œ{% endblock title %}

{% block css %}
<link href="{% static 'css/modal.css' %}" rel="stylesheet">
{% endblock css %}

{% block content %}
<div class="container  pt-2">
    <div class="row mt-2">
        <div class="col-1"></div>
        <div class="col-10">
            <h4 class="question_title" style="width: 80%;">{{ title }}</h4>
            <div style="height: 5px;"></div>
            <b>ã€å•é¡Œã€‘</b><br>
            {% autoescape off %}
            {{ sentence | linebreaksbr }}
            {% endautoescape %}
            <div style="height: 15px;"></div>
            <div class="p-2" style="width: 80%; border: darkgreen solid 1px;">
                ğŸ“„<b>æœŸå¾…ã™ã‚‹å‡ºåŠ›</b><br>
                {{ expectation | linebreaksbr }}
            </div>
            <div style="height: 5px;"></div>
            <div class="p-2" style="width: 80%; border: darkblue solid 1px;">
                â˜‘ï¸<b>æ¡ä»¶</b><br>
                ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«ãŠã„ã¦ã€ä»¥ä¸‹ã®æ¡ä»¶ã‚’ã¿ãŸã—ã¾ã™ã€‚<br>
                {{ condition | linebreaksbr }}
            </div>
            <div style="height: 5px;"></div>
            <div class="p-2" style="width: 80%; border: gray solid 1px;">
                âŒ¨ï¸<b>å…¥åŠ›ã•ã‚Œã‚‹å€¤</b><br>
                å…¥åŠ›ã¯ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ä¸ãˆã‚‰ã‚Œã¾ã™ã€‚
                <div class="p-1 m-2 gray_theme" style="width: 80%;">
                    {{ format_data | linebreaksbr }}
                </div>
                {{ format_text | linebreaksbr }}
            </div>
            <div style="height: 25px;"></div>
            {% for input, output in examples %}
            ãƒ»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹{{ forloop.counter }}
            <div class="p-2" style="width: 80%; border: grey solid 1px;">
                <b>å…¥åŠ›ã•ã‚Œã‚‹å€¤</b>
                <div class="p-1 m-2 gray_theme" style="width: 80%; ">
                    {{ input | linebreaksbr }}
                </div>
            </div>
            <div class="p-2" style="width: 80%; border: grey solid 1px;">
                <b>æ±‚ã‚ã‚‰ã‚Œã‚‹å‡ºåŠ›</b>
                <div class="p-1 m-2 gray_theme" style="width: 80%;">
                    {{ output | linebreaksbr }}
                </div>
            </div>
            <div style="height: 15px;"></div>
            {% endfor %}
        </div>
        <div class="col-1"></div>
    </div>
    <div class="row m-1" style="height: 60px;">
        <div class="col-7">
        <a href="{% url 'python_learning:p_like_ex' %}#input" target="_blank" rel="noopener noreferrer">å…¥åŠ›ã•ã‚Œã‚‹å€¤ã®å—ã‘å–ã‚Šæ–¹ã¯ã“ã¡ã‚‰ï¼ˆåˆ¥ã‚¿ãƒ–ã§é–‹ãï¼‰</a>
        </div>
        <div class="col-5">
            <button id="modalOpen" class="button_compe">ä½¿ç”¨å¯èƒ½ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„é–¢æ•°ã«ã¤ã„ã¦</button>
                <div id="easyModal" class="modal">
                <div class="modal-content">
                <div class="modal-header">
                <h5>ã“ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„é–¢æ•°ãŒåˆ¶é™ã•ã‚Œã¾ã™ã€‚</h5>
                <span class="modalClose">Ã—</span>
                </div>
                <div class="modal-body">
                <p>ğŸŸ¢ä½¿ç”¨å¯èƒ½ãªå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</p>
                <p class="ps-3"> numpyã€pandasã€mpmathã€scipyã€sympy</p>
                <p>ğŸ”´ä½¿ç”¨ã§ããªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</p>
                <p class="ps-3"> osã€subprocessã€pathlibã€shutil</p>
                <p>ğŸ”´ä½¿ç”¨ã§ããªã„é–¢æ•°</p>
                <p class="ps-3"> openã€execã€eval</p>
                </div>
                </div>
                </div>
        </div>
    </div>
    <div class="row">
        <div class="col-2">
            <select class="form-select-sm ms-3 mb-1 bg-light text-center" style="width: 90%;" id="editor_color" onchange="color()">
                {% for key, color in editor_colors %}
                {% if forloop.counter == cn %}
                <option value="{{ key }}" selected>{{ color }}</option>
                {% else %} 
                <option value="{{ key }}">{{ color }}</option>          
                {% endif %}
                {% endfor %}
            </select>
        </div>
        <div class="col-5">
            â†ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã®é…è‰²ã‚’å¤‰æ›´ã§ãã¾ã™ã€‚
        </div>
        <div class="col-5">
            <select class="form-select-sm bg-info text-center" style="width: 30%;" id="testcase" onchange="select()">
                {% for testcase in testcases %}
                {% if forloop.counter == sn %}
                <option value="{{ testcase }}" selected>ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹{{ forloop.counter }}</option>
                {% else %}
                <option value="{{ testcase }}">ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹{{ forloop.counter }}</option>
                {% endif %}
                {% endfor %}
              </select>
        </div>
    </div>
    <div class="row">
        <div class="col-7">
            <div id="editor" style="height: 476px; width: 100%;">{{ text }}</div>
        </div>
        <div class="col-5">
            <form action="?" method="post">{% csrf_token %}
                å…¥åŠ›ã•ã‚Œã‚‹å€¤
            <textarea class="ps-2" style="height: 109px; width: 100%; background-color: lemonchiffon;" id ="input_ex" name="input_ex" readonly>{{ input_ex }}</textarea>
                è¦æ±‚ã•ã‚Œã‚‹å‡ºåŠ›
                <textarea class="ps-2" style="height: 109px; width: 100%; background-color: aquamarine;" id ="output_ex" name="output_ex" readonly>{{ output_ex }}</textarea>
                <input type="hidden" id="defalt_color" name="defalt_color" value="{{ defalt_color }}">
                <textarea style="display:none" id ="selected_n" name="selected_n">{{ sn }}</textarea>
                <textarea style="display:none" id="text" name="text"></textarea>
                <textarea style="display:none" id="backup" name="backup">{{ text }}</textarea>
                <textarea style="display:none" name="data">{{ data }}</textarea>
                <textarea class="ps-2" name="output" rows="8" style="background-color: lightcyan; border: blue solid 1px; width: 100%;" readonly>{{ out }}{{ err }}</textarea>
        </div>
    </div>
    <div class="m-3 text-end">
        <span><button type="submit" class="btn btn-primary" formaction="{% url 'python_learning:compe' pk %}?p={{pn}}">å‡ºåŠ›ç¢ºèª</button></span>
        <span><button type="submit" class="btn btn-danger" formaction="{% url 'python_learning:compe_a' pk %}?p={{pn}}">è§£ç­”ã™ã‚‹</button></span>
    </div>
    </form>
    
     <div class="button_return"><a href="{% url 'python_learning:p_like' %}?p={{pn}}">å•é¡Œä¸€è¦§ã¸</a></div>
    <div style="height: 60px;"></div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/ace.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.7/ext-language_tools.js"></script>
<script src="{% static 'js/modal.js' %}"></script>
<script src="{% static 'js/compe.js' %}"></script>

{% endblock content %}